מטלה 5 תהליכים – Readme
במטלה זו מימשנו את הפונקציונאליות של מטלה רביעית רק בעזרת fork והקצאת זיכרון
בתצורה של מפה mmap ועבודה עם מיוטקס בשפת C בספריית h.fcntl ,מימשנו STACK
אשר שומר קריאות ובקשות מסוג:
- PUSH
- POP
- TOP
- EXIT
אשר מטופלים על ידי CASE SWITCH שמקבל קלט מהמשתמש .
הסבר קטן על מערכת התקשורת שמשתמשת בפרוטוקול TCP:
עשינו תקשורת מרובת משתמשים בעזרת fork לכל משתמש בשפת
משלו להיכנס אלי ו PORT ו IP של סוקט וכל משתמש קיבל HEADERמיממשנו
וגם אפשר להשתמש שוב באותו הפורט כדי שיהיה אפשר לנצל כל פורט שישתחרר
- מימוש ה fork :
בנינו פונקציה אש ר בונה סוקט ומקשיב לכל חיבור , ב רגע שהקליינט רוצה להתחבר מוקצה לו
פורט ואז לחיצת היד הושלמה וניתן להמשיך את החיבור או לנתק , יצרנו טרד וצירפנו את
הפונקציה הזאת לשם כדי שתעבוד במיין.
- טיפול בזיכרון:
כל אובייקט שפתחנו דאגנו שישחרר את הזיכרון שהוא תופס , כל סוקט שפתחנו ווידאנו שהוא
נכבה כאשר הסתיימה התקשורת גם מצד הקליינט וגם מצד השרת
טיפול בזיכרון בוצע על ידי ספריית mmap אשר מקצה זיכרון באופן דינמי למגוון רכב של איברים
בצורה יחסית אוטומתית , כמו כן שימוש במיוטקס הביא לנו שליטה על נעילת תהליכים עד שלא
נגמרים לאותו המשתמש
בדיקות:
ביצענו בדיקה לא טריויאלית על המחסנית האם היא טוענת נכון בקשות ומציצה לתוכם , כאשר
הבדיקה לא צלחה תיהיה הודעת שגיאה של ASSERT EQUAL ואם היא צלחה הבדיקה אז לא יוצג ו
שום שגיאות ויודפסו הערכים שהוכנסו
